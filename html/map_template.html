<!DOCTYPE HTML>
<html><head>
<title>[var.out.title] - Sheepy's Arena</title>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
<link rel='stylesheet' type='text/css' href='../html/res/style.css?ver=[var.out.app_version]'>
</head><body onmousedown='arena.event.documentMouseUpDown(event);' onmouseup='arena.event.documentMouseUpDown(event);'>

<table id='map'><tbody><tr><td style='width: auto; max-width: none; font-size:x-large; padding:2em 4em'>Please wait a few seconds.</td><tr></tbody></table>

<table id='statusbar' unselectable="on"><tr>
  <td id='hint' colspan='6'>[var.lang.welcome_hint; htmlconv=no]</td>
</tr><tr>
  <td id='current_foreground'></td>
  <td id='current_background'></td>
  <td id='coordinate_status'>X:-- Y:--</td>
  <td id='dimension_status'>W:-- H:--</td>
  <td id='status'>[var.lang.welcome_status; htmlconv=no]</td>
  <td id='debug' onclick='this.innerHTML=""'></td>
</tr></table>

<div id='toolbox'>
  <div class='tool' onclick='arena.event.newMapOnClick(event)' onmouseover='arena.ui.hint("tool|barhint_NewMap")'>*</div>
  <div class='tool' onclick='arena.event.exportOnClick(event)' onmouseover='arena.ui.hint("tool|barhint_Export")'>=&gt;</div>
  <!-- <div id='target_layer' onmouseover='arena.event.submenuOnHover(event,"layer");arena.ui.hint("tool|barhint_UsingLayer")' onmouseout='arena.event.submenuOnExit(event);'>Terrain</div>
  <table id='layer'>
    <tr><td class='tool' onmouseover='arena.event.submenuOnHover(event,"layer");arena.ui.hint("tool|barhint_Layer")' onmouseout='arena.event.submenuOnExit(event);'>Overlay </td><tr>
    <tr><td class='tool' onmouseover='arena.event.submenuOnHover(event,"layer");arena.ui.hint("tool|barhint_Layer")' onmouseout='arena.event.submenuOnExit(event);'>Creature</td><tr>
    <tr><td class='tool' onmouseover='arena.event.submenuOnHover(event,"layer");arena.ui.hint("tool|barhint_Layer")' onmouseout='arena.event.submenuOnExit(event);'>Object  </td><tr>
    <tr><td class='tool' onmouseover='arena.event.submenuOnHover(event,"layer");arena.ui.hint("tool|barhint_Layer")' onmouseout='arena.event.submenuOnExit(event);'>Effect  </td><tr>
    <tr><td class='tool' onmouseover='arena.event.submenuOnHover(event,"layer");arena.ui.hint("tool|barhint_Layer")' onmouseout='arena.event.submenuOnExit(event);'>Terrain </td><tr>
  </table> -->
  <div id='cmd_Foreground' onclick='arena.event.setForegroundOnClick(event)' onmouseover='arena.event.submenuOnHover(event,"palette");arena.ui.hint("tool|barhint_Foreground")' onmouseout='arena.event.submenuOnExit(event);'></div>
  <div id='cmd_Background' onclick='arena.event.setBackgroundOnClick(event)' onmouseover='arena.event.submenuOnHover(event,"palette");arena.ui.hint("tool|barhint_Background")' onmouseout='arena.event.submenuOnExit(event);'></div>
  <table id='palette'><tbody><!-- <tr>
    <td class="palette" onmouseover='arena.event.submenuOnHover(event,"palette");' onmouseout='arena.event.submenuOnExit(event);'><img
      onclick="arena.event.paletteOnClick(event,'reverse')" ondblclick="if(!event.detail)arena.event.paletteOnClick(event,'reverse')" onmouseover="arena.ui.hint('tool|barhint_ReverseColour')"
      src='../html/res/img/colour_reverse.gif'></td>
    <td class="palette" onmouseover='arena.event.submenuOnHover(event,"palette");' onmouseout='arena.event.submenuOnExit(event);'><img
      onclick="arena.event.paletteOnClick(event,'none')" ondblclick="if(!event.detail)arena.event.paletteOnClick(event,'none')" onmouseover="arena.ui.hint('tool|barhint_NoColour')"
      src='../html/res/img/colour_none.gif'></td>
  </tr> --></tbody></table>
  <input id='mapinput' type='text' maxlength='2' value='[var.lang.default_mapinput]' onkeydown='arena.event.mapInputKeyDown(event)' onkeyup='arena.event.mapInputKeyUp(event)' onmouseover='arena.ui.hint("tool|barhint_MapInput")'>
  <div class='tool' id='cmd_SetText' onclick='arena.event.setTextOnClick(event)' onmouseover='arena.ui.hint("tool|barhint_Text")'>T</div>
  <div class='tool' id='cmd_SetAll'  onclick='arena.event.setAllOnClick(event)'  onmouseover='arena.ui.hint("tool|barhint_Set")'>Set</div>
  <div id='glyph'></div><br>
</div>

<script type='text/javascript' src='../html/res/lang/en.js?ver=[var.out.app_version]'></script>
<script type='text/javascript' src='../html/res/lang/[var.out.language;magnet=_].js?ver=[var.out.app_version]'></script>
<script type='text/javascript' src='../html/res/model.js?ver=[var.out.app_version]'></script>
<script type='text/javascript' src='../html/res/ui.js?ver=[var.out.app_version]'></script>
<script type='text/javascript' src='../html/res/tools.js?ver=[var.out.app_version]'></script>
<script type='text/javascript' src='../html/res/io.js?ver=[var.out.app_version]'></script>
<script type='text/javascript'>
  if (!$ || !window.arena || !arena.lang || !arena.ui || !arena.tools || !arena.io) {
  	document.getElementById('hint').innerHTML = '[var.lang.err_IncompleteLoad]';
  } else {
    arena.tools.setTool(arena.tools.Mask);
    arena.map.recreate(36,25);
    arena.ui.focusMapInput();
  }
</script><noscript>
<p>This tool requires JavaScript. Sorry for the inconvinence.</p>
</noscript>

<p>New features:
<ul>
 <li> 03-28 Better key input / function key detection</li>
 <li> 03-27 Colour submenu to conserve screen estate</li>
 <li> 03-26 Export to HTML </li>
 <li> 03-26 Added message for disabled JavaScript </li>
 <li> 03-25 Arrow keys move mask when not inputting </li>
 <li> 03-25 Text input no longer get interrupted by map commands (del, esc, etc.) </li>
 <li> 03-25 Reduced unnecessarey trigger of status bar update script </li>
 <li> 03-25 BBCode & plain text export format </li>
 <li> 03-24 Foreground colour export will ignore whitespace </li>
 <li> 03-23 Initial canvas wait message </li>
 <li> 03-23 Show current cell's foreground and background </li>
 <li> 03-23 Multi-selection with area select </li>
</ul>
</p>

<p>TODO, in order of importance:
<ul>
 <li> Export & Impot in native format, then Saving and Loading </li>
 <li> Add more commands (Clear text, Move masked area) </li>
 <li> Implement action history + undo and redo. Check memory usage here. Don't need history list</li>
 <li> Experimental multi-map support </li>
 <li> Add bold and italic </li>
</ul>
</p>

<p>Small TODO, in no order:
<ul>
 <li> Dynamically assign toolbox handler. What an ordered mess. </li>
 <li> Make copy box in-frame instead of popup </li>
 <li> Fix command names - may have to move responsibility to tool </li>
 <li> I think text mask selection should be an independent command </li>
 <li> Make command rely more on mask for more sensible redo </li>
 <li> Use some control other then a textbox as command focus.  Or make it read-only, as long as Shift-Arrow is not eaten. </li>
</ul>
</p>

<p>Known issues
<ul>
 <li>Opera: Repeated click only counts to 2.</li>
 <li>Chrome: Alt key does not work. <a href='http://code.google.com/p/chromium/issues/detail?id=2215'>Known issue</a>.</li>
 <li>Middle click works the same as left click in most browsers except IE (when they should be ignored). Blame IE's non-compliance event button code.</li>
</ul>
</p>

<div id='mask'></div>

<table id='dialog_container'><tr><td>
<div id='dialog_export'>
<h2>Export</h2>
<label onmouseover='arena.ui.hint("tool|dlghint_CopyIRC")'><input type='radio' name='opt_export' id='dlg_ex_txt'> Plain text </label>
<label onmouseover='arena.ui.hint("tool|dlghint_CopyBBC")'><input type='radio' name='opt_export' id='dlg_ex_bbc'> BBCode </label>
<label onmouseover='arena.ui.hint("tool|dlghint_CopyTxt")'><input type='radio' name='opt_export' id='dlg_ex_irc' checked='checked'> mIRC </label><br>
<label onmouseover='arena.ui.hint("tool|dlghint_CopyHtml")'><input type='radio' name='opt_export' id='dlg_ex_html'> HTML </label><br><br>
<input type='button' value='Export' id='btn_export' onclick='arena.event.dlgExportClick(event)'> &nbsp;
<input type='button' value='Cancel' onclick='arena.ui.hideDialog("export")'>
</div>
</td></tr></table>

</body></html>
